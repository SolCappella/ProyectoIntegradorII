<!DOCTYPE html>
<html lang="es">
<!-- Include Head -->
<%- include('./partials/head') %>

<body>
<!-- Header -->
<% if (loggedUser) { %>
    <%- include('./partials/header-logueado') %>
<% } else { %>
    <%- include('./partials/header') %>
<% } %>
<!-- Header -->

    <div class="form-div">
        <h2 class="products-title bebas-neue-regular">Editar mi perfil</h2>
        <form action="/profile/<%= user.id %>/edit" method="POST" class="poppins-regular forms">
            <div class="form-label-div">
                <label for="email" class="form-label">Email:</label>
                <input type="email" id="email" name="email" required class="input-text" value="<%= oldData && oldData.email !== undefined ? oldData.email : user.email %>">
                <%= errors && errors.email ? `<p>${errors.email.msg}</p>` : '' %>
            </div>

            <div class="form-label-div">
                <label for="username" class="form-label">Usuario:</label>
                <input type="text" id="username" name="usuario" required class="input-text" value="<%= oldData && oldData.usuario !== undefined ? oldData.usuario : user.usuario %>">
                <%= errors && errors.usuario ? `<p>${errors.usuario.msg}</p>` : '' %>
            </div>

            <div class="form-label-div">
                <label for="password" class="form-label">Contrase単a:</label>
                <input type="password" id="password" name="contrase単a" class="input-text">
                <%= errors && errors.contrase単a ? `<p>${errors.contrase単a.msg}</p>` : '' %>
            </div>

            <div class="form-label-div">
                <label for="birthdate" class="form-label">Fecha de nacimiento:</label>
                <input type="date" id="birthdate" name="fechaNacimiento" class="input-text" value="<%= oldData && oldData.fechaNacimiento !== undefined ? oldData.fechaNacimiento : user.fecha %>">
                <%= errors && errors.fechaNacimiento ? `<p>${errors.fechaNacimiento.msg}</p>` : '' %>
            </div>

            <div class="form-label-div"> 
                <label for="document" class="form-label">Nro de documento:</label>
                <input type="number" id="document" name="documento" class="input-text" value="<%= oldData && oldData.documento !== undefined ? oldData.documento : user.dni %>">
                <%= errors && errors.dni ? `<p>${errors.dni.msg}</p>` : '' %>
            </div>
            <div class="form-label-div">
                <button type="submit" class="form-submit">Actualizar Perfil</button>
            </div>
        </form>
    </div>

<!-- /Footer -->
<%- include('./partials/footer') %>
<!-- /Footer -->
</body>
</html>
